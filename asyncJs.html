<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Asynchronous techniques</h1>
    <h2>Promise</h2>
    <h2>Async-await</h2>
    <h2>callback</h2>


    <script>
const datas = [
    {
    name:'Pooja', profession:"software engineer"},
   { name:'Sonam', profession:"software engineer"
}]

function showData (){
   setTimeout(()=>{
    let output = ""
    datas.forEach((item,index)=>{
        output+= `<li>${item.name}</li>`
        document.body.innerHTML = output;
    })
   },1000)
}

//if showdata function has 1sec then it not shows on added data on UI because it call after 1sec then after that 2sec this craeteData function call so to avoid this depennacy
// three method sare involve in js 1) callback 2) async-await 3) promise

// function createData(newData,callback){
//     setTimeout(()=>{
//         datas.push(newData);
//         callback();
//     },2000)
// }

// createData({name:'Patil', profession:"software engineer"},showData)


//2) promise
function createData(newData){
    return new Promise ((resolve,reject)=>{
        setTimeout(()=>{
        datas.push(newData);
      let error = false;
      if(!error){
        resolve();
      }else{
        reject("went wrong")
      }
       
    },2000)
    })
 
}

createData({name:'Patil', profession:"software engineer"}).then(showData);

//3)aync-await

function check(){
    console.log("async-await work properly")
}

async function start (){
await createData({name:'Patil', profession:"software engineer"});
await showData();
check();
}

    </script>
</body>
</html>